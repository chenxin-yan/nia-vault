{
  "project": "nia-vault",
  "version": "0.1.0",
  "description": "CLI app for querying local notes via Nia semantic search",
  "lastUpdated": "2026-02-01",
  "tasks": [
    {
      "id": "1",
      "name": "Project Setup",
      "status": "pending",
      "priority": "high",
      "subtasks": [
        {
          "id": "1.1",
          "name": "Update package.json with bin, scripts, and metadata",
          "status": "completed"
        },
        {
          "id": "1.2",
          "name": "Install dependencies (@inquirer/prompts, @types/node)",
          "status": "completed"
        },
        {
          "id": "1.3",
          "name": "Create src directory structure",
          "status": "completed"
        }
      ]
    },
    {
      "id": "2",
      "name": "Core Library",
      "status": "pending",
      "priority": "high",
      "subtasks": [
        {
          "id": "2.1",
          "name": "Create TypeScript types (src/types.ts)",
          "status": "completed"
        },
        {
          "id": "2.2",
          "name": "Implement nia-sync integration (src/lib/nia-sync.ts)",
          "status": "pending",
          "notes": "Read API key from ~/.nia-sync/config.json + run `nia once` for sync"
        },
        {
          "id": "2.3",
          "name": "Implement vault config manager (src/lib/config.ts)",
          "status": "pending"
        },
        {
          "id": "2.4",
          "name": "Implement Nia API client (src/lib/nia.ts)",
          "status": "pending"
        },
        {
          "id": "2.5",
          "name": "Implement output formatter (src/lib/output.ts)",
          "status": "pending"
        }
      ]
    },
    {
      "id": "3",
      "name": "Commands",
      "status": "pending",
      "priority": "high",
      "subtasks": [
        {
          "id": "3.1",
          "name": "Implement init command (src/commands/init.ts)",
          "status": "pending",
          "notes": "Uses checkbox prompt for folder selection, reads API key from nia-sync"
        },
        {
          "id": "3.2",
          "name": "Implement ask command (src/commands/ask.ts)",
          "status": "pending",
          "notes": "Includes --sync flag to run nia once before search"
        },
        {
          "id": "3.3",
          "name": "Implement sync command (src/commands/sync.ts)",
          "status": "pending",
          "notes": "Runs `nia once` to trigger one-time sync"
        },
        {
          "id": "3.4",
          "name": "Implement folders command with list/add/remove subcommands (src/commands/folders.ts)",
          "status": "pending",
          "notes": "list: show all folders, add: checkbox to add, remove: checkbox to remove"
        },
        {
          "id": "3.5",
          "name": "Implement config command (src/commands/config.ts)",
          "status": "pending"
        }
      ]
    },
    {
      "id": "4",
      "name": "CLI Entry Point",
      "status": "pending",
      "priority": "high",
      "subtasks": [
        {
          "id": "4.1",
          "name": "Create CLI entry with meow (src/index.ts)",
          "status": "pending"
        },
        {
          "id": "4.2",
          "name": "Wire up all commands including folders subcommands and sync",
          "status": "pending"
        }
      ]
    },
    {
      "id": "5",
      "name": "Build & Test",
      "status": "pending",
      "priority": "medium",
      "subtasks": [
        {
          "id": "5.1",
          "name": "Test build with bun build (verify shebang preserved)",
          "status": "pending"
        },
        {
          "id": "5.2",
          "name": "Manual testing of all commands",
          "status": "pending"
        },
        {
          "id": "5.3",
          "name": "Fix any issues found",
          "status": "pending"
        }
      ]
    },
    {
      "id": "6",
      "name": "Documentation",
      "status": "pending",
      "priority": "medium",
      "subtasks": [
        {
          "id": "6.1",
          "name": "Write README.md with usage instructions",
          "status": "pending"
        },
        {
          "id": "6.2",
          "name": "Add CHANGELOG.md",
          "status": "pending"
        }
      ]
    }
  ],
  "notes": [
    "Prerequisite: Users must have nia-sync installed and configured",
    "API key is read from ~/.nia-sync/config.json (not stored in vault config)",
    "Vault config only stores selectedFolders array",
    "CLI command is 'vault' (not 'nia-vault')",
    "Sync is optional: use 'vault sync' or 'vault ask --sync' flag",
    "Sync runs `nia once` command (one-time sync, then exit)",
    "folders command has subcommands: list (default), add, remove",
    "Runtime: Compile to Node-compatible JS with #!/usr/bin/env node shebang (works with both Node and Bun)"
  ]
}
